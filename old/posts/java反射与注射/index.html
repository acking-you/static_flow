<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Javaåå°„ä¸æ³¨è§£ - L_B__</title><meta name="referrer" content="no-referrer">
<meta name="description" content="Javaåå°„ä¸æ³¨è§£"><meta property="og:title" content="Javaåå°„ä¸æ³¨è§£" />
<meta property="og:description" content="Javaåå°„ä¸æ³¨è§£" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://acking-you.github.io/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/" /><meta property="og:image" content="https://acking-you.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-01-23T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://acking-you.github.io/logo.png"/>

<meta name="twitter:title" content="Javaåå°„ä¸æ³¨è§£"/>
<meta name="twitter:description" content="Javaåå°„ä¸æ³¨è§£"/>
<meta name="application-name" content="FeelIt">
<meta name="apple-mobile-web-app-title" content="FeelIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="canonical" href="https://acking-you.github.io/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/" /><link rel="prev" href="https://acking-you.github.io/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/" /><link rel="next" href="https://acking-you.github.io/posts/java-io/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Javaåå°„ä¸æ³¨è§£",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/acking-you.github.io\/posts\/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84\/"
        },"genre": "posts","keywords": "Javaåå°„ä¸æ³¨è§£","wordcount":  7702 ,
        "url": "https:\/\/acking-you.github.io\/posts\/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84\/","datePublished": "2022-01-23T00:00:00+00:00","dateModified": "2022-01-23T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": "ä½œè€…"},"author": {
                "@type": "Person",
                "name": "ä½œè€…"
            },"description": "Javaåå°„ä¸æ³¨è§£"
    }
    </script></head><body data-header-desktop="auto" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="L_B__">L_B__</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> æ–‡ç«  </a><a class="menu-item" href="/tags/"> æ ‡ç­¾ </a><a class="menu-item" href="/categories/"> åˆ†ç±» </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="L_B__">L_B__</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        å–æ¶ˆ
                    </a>
                </div><a class="menu-item" href="/posts/" title="">æ–‡ç« </a><a class="menu-item" href="/tags/" title="">æ ‡ç­¾</a><a class="menu-item" href="/categories/" title="">åˆ†ç±»</a><div class="menu-item"><a href="javascript:void(0);" class="theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">ç›®å½•</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single" data-toc="disable"><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img-blog.csdnimg.cn/img_convert/daefa95e021376b822b5938e65b8252b.png#pic_center"
        data-srcset="https://img-blog.csdnimg.cn/img_convert/daefa95e021376b822b5938e65b8252b.png#pic_center, https://img-blog.csdnimg.cn/img_convert/daefa95e021376b822b5938e65b8252b.png#pic_center 1.5x, https://img-blog.csdnimg.cn/img_convert/daefa95e021376b822b5938e65b8252b.png#pic_center 2x"
        data-sizes="auto"
        alt="https://img-blog.csdnimg.cn/img_convert/daefa95e021376b822b5938e65b8252b.png#pic_center"
        title="Javaåå°„ä¸æ³¨è§£" /></div><div class="single-card" data-image="true"><h2 class="single-title animated flipInX">Javaåå°„ä¸æ³¨è§£</h2><div class="post-meta">
                <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>ä½œè€…</a></span>&nbsp;<span class="post-category">å‡ºç‰ˆäº  <a href="/categories/javase%E7%AC%94%E8%AE%B0/"><i class="far fa-folder fa-fw"></i>JavaSEç¬”è®°</a></span></div>
                <div class="post-meta-line"><span><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-01-23">2022-01-23</time></span>&nbsp;<span><i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 7702 å­—</span>&nbsp;
                    <span><i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 16 åˆ†é’Ÿ</span>&nbsp;</div>
            </div>
            
            <hr><div class="details toc" id="toc-static"  data-kept="">
                    <div class="details-summary toc-title">
                        <span>ç›®å½•</span>
                        <span><i class="details-icon fas fa-angle-right"></i></span>
                    </div>
                    <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#javaç±»åŠ è½½æœºåˆ¶">Javaç±»åŠ è½½æœºåˆ¶</a></li>
    <li><a href="#classå¯¹è±¡">Classå¯¹è±¡</a>
      <ul>
        <li><a href="#å†è°ˆinstanceof">å†è°ˆinstanceof</a></li>
        <li><a href="#è·å–çˆ¶ç±»ä¿¡æ¯">è·å–çˆ¶ç±»ä¿¡æ¯</a></li>
      </ul>
    </li>
    <li><a href="#åˆ›å»ºç±»å¯¹è±¡">åˆ›å»ºç±»å¯¹è±¡</a></li>
    <li><a href="#è°ƒç”¨ç±»çš„æ–¹æ³•">è°ƒç”¨ç±»çš„æ–¹æ³•</a></li>
    <li><a href="#ä¿®æ”¹ç±»çš„å±æ€§">ä¿®æ”¹ç±»çš„å±æ€§</a></li>
    <li><a href="#è‡ªå®šä¹‰classloaderåŠ è½½ç±»">è‡ªå®šä¹‰ClassLoaderåŠ è½½ç±»</a></li>
    <li><a href="#æ³¨è§£">æ³¨è§£</a>
      <ul>
        <li><a href="#é¢„è®¾æ³¨è§£">é¢„è®¾æ³¨è§£</a></li>
        <li><a href="#å…ƒæ³¨è§£">å…ƒæ³¨è§£</a></li>
        <li><a href="#æ³¨è§£çš„ä½¿ç”¨">æ³¨è§£çš„ä½¿ç”¨</a></li>
        <li><a href="#åå°„è·å–æ³¨è§£">åå°„è·å–æ³¨è§£</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
                </div><div class="content" id="content"><h1 id="javaåå°„å’Œæ³¨è§£">Javaåå°„å’Œæ³¨è§£</h1>
<p><a href="https://www.bilibili.com/video/BV1Gv411T7pi?p=97" target="_blank" rel="noopener noreffer">é…å¥—è§†é¢‘</a></p>
<p>**æ³¨æ„ï¼š**æœ¬ç« èŠ‚æ¶‰åŠåˆ°JVMç›¸å…³åº•å±‚åŸç†ï¼Œéš¾åº¦ä¼šæœ‰ä¸€äº›å¤§ã€‚</p>
<p>åå°„å°±æ˜¯æŠŠJavaç±»ä¸­çš„å„ä¸ªæˆåˆ†æ˜ å°„æˆä¸€ä¸ªä¸ªçš„Javaå¯¹è±¡ã€‚å³åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½è°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ã€‚è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½å«Javaçš„åå°„æœºåˆ¶ã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ï¼Œè·å–åˆ°ç±»çš„ä¸€äº›å±æ€§ï¼ŒåŒ…æ‹¬ç±»é‡Œé¢æœ‰å“ªäº›å­—æ®µï¼Œæœ‰å“ªäº›æ–¹æ³•ï¼Œç»§æ‰¿è‡ªå“ªä¸ªç±»ï¼Œç”šè‡³è¿˜èƒ½è·å–åˆ°æ³›å‹ï¼å®ƒçš„æƒé™éå¸¸é«˜ï¼Œæ…é‡ä½¿ç”¨ï¼</p>
<h2 id="javaç±»åŠ è½½æœºåˆ¶">Javaç±»åŠ è½½æœºåˆ¶</h2>
<p>åœ¨å­¦ä¹ Javaçš„åå°„æœºåˆ¶ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹ç±»çš„åŠ è½½æœºåˆ¶ï¼Œä¸€ä¸ªç±»æ˜¯å¦‚ä½•è¢«åŠ è½½å’Œä½¿ç”¨çš„ï¼š</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg3.itboth.com%2F60%2F50%2FUrUVN3.png&amp;refer=http%3A%2F%2Fimg3.itboth.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=jpeg?sec=1637635409&amp;t=f25ea82c853619c26897ff5b4d041d5b"
        data-srcset="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg3.itboth.com%2F60%2F50%2FUrUVN3.png&amp;refer=http%3A%2F%2Fimg3.itboth.com&amp;app=2002&amp;size=f9999%2c10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=jpeg?sec=1637635409&amp;t=f25ea82c853619c26897ff5b4d041d5b, https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg3.itboth.com%2F60%2F50%2FUrUVN3.png&amp;refer=http%3A%2F%2Fimg3.itboth.com&amp;app=2002&amp;size=f9999%2c10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=jpeg?sec=1637635409&amp;t=f25ea82c853619c26897ff5b4d041d5b 1.5x, https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg3.itboth.com%2F60%2F50%2FUrUVN3.png&amp;refer=http%3A%2F%2Fimg3.itboth.com&amp;app=2002&amp;size=f9999%2c10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=jpeg?sec=1637635409&amp;t=f25ea82c853619c26897ff5b4d041d5b 2x"
        data-sizes="auto"
        alt="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg3.itboth.com%2F60%2F50%2FUrUVN3.png&amp;refer=http%3A%2F%2Fimg3.itboth.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=jpeg?sec=1637635409&amp;t=f25ea82c853619c26897ff5b4d041d5b"
        title="img" /></p>
<p>åœ¨Javaç¨‹åºå¯åŠ¨æ—¶ï¼ŒJVMä¼šå°†ä¸€éƒ¨åˆ†ç±»ï¼ˆclassæ–‡ä»¶ï¼‰å…ˆåŠ è½½ï¼ˆå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»éƒ½ä¼šåœ¨ä¸€å¼€å§‹åŠ è½½ï¼‰ï¼Œé€šè¿‡ClassLoaderå°†ç±»åŠ è½½ï¼Œåœ¨åŠ è½½è¿‡ç¨‹ä¸­ï¼Œä¼šå°†ç±»çš„ä¿¡æ¯æå–å‡ºæ¥ï¼ˆå­˜æ”¾åœ¨å…ƒç©ºé—´ä¸­ï¼ŒJDK1.8ä¹‹å‰å­˜æ”¾åœ¨æ°¸ä¹…ä»£ï¼‰ï¼ŒåŒæ—¶ä¹Ÿä¼šç”Ÿæˆä¸€ä¸ªClasså¯¹è±¡å­˜æ”¾åœ¨å†…å­˜ï¼ˆå †å†…å­˜ï¼‰ï¼Œæ³¨æ„æ­¤Classå¯¹è±¡åªä¼šå­˜åœ¨ä¸€ä¸ªï¼Œä¸åŠ è½½çš„ç±»å”¯ä¸€å¯¹åº”ï¼</p>
<p>**æ€è€ƒï¼š**æ—¢ç„¶è¯´å’Œä¸åŠ è½½çš„ç±»å”¯ä¸€å¯¹åº”ï¼Œé‚£å¦‚æœæˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªä¸JDKåŒ…åä¸€æ ·ï¼ŒåŒæ—¶ç±»åä¹Ÿä¿æŒä¸€è‡´ï¼Œé‚£ä¹ˆJVMä¼šåŠ è½½è¿™ä¸ªç±»å—ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">java.lang</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">String</span> <span class="o">{</span>    <span class="c1">//JDKæä¾›çš„Stringç±»ä¹Ÿæ˜¯
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;æˆ‘å§“ğŸ´ï¼Œæˆ‘å«ğŸ´nb&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>æˆ‘ä»¬å‘ç°ï¼Œä¼šå‡ºç°ä»¥ä¸‹æŠ¥é”™ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nl">é”™è¯¯:</span> <span class="n">åœ¨ç±»</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">String</span> <span class="n">ä¸­æ‰¾ä¸åˆ°</span> <span class="n">main</span> <span class="n">æ–¹æ³•</span><span class="o">,</span> <span class="n">è¯·å°†</span> <span class="n">main</span> <span class="n">æ–¹æ³•å®šä¹‰ä¸º</span><span class="o">:</span>
   <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span>
</code></pre></div><p>ä½†æ˜¯æˆ‘ä»¬æ˜æ˜åœ¨è‡ªå·±å†™çš„Stringç±»ä¸­å®šä¹‰äº†mainæ–¹æ³•å•Šï¼Œä¸ºä»€ä¹ˆä¼šæ‰¾ä¸åˆ°æ­¤æ–¹æ³•å‘¢ï¼Ÿå®é™…ä¸Šè¿™æ˜¯ClassLoaderçš„<code>åŒäº²å§”æ´¾æœºåˆ¶</code>åœ¨ä¿æŠ¤Javaç¨‹åºçš„æ­£å¸¸è¿è¡Œï¼š</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img-blog.csdnimg.cn/20201217213314510.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGV5YW5iYW8=,size_16,color_FFFFFF,t_70"
        data-srcset="https://img-blog.csdnimg.cn/20201217213314510.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGV5YW5iYW8=%2csize_16%2ccolor_FFFFFF%2ct_70, https://img-blog.csdnimg.cn/20201217213314510.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGV5YW5iYW8=%2csize_16%2ccolor_FFFFFF%2ct_70 1.5x, https://img-blog.csdnimg.cn/20201217213314510.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGV5YW5iYW8=%2csize_16%2ccolor_FFFFFF%2ct_70 2x"
        data-sizes="auto"
        alt="https://img-blog.csdnimg.cn/20201217213314510.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGV5YW5iYW8=,size_16,color_FFFFFF,t_70"
        title="img" /></p>
<p>å®é™…ä¸Šæˆ‘ä»¬çš„ç±»æœ€å¼€å§‹æ˜¯ç”±BootstarpClassLoaderè¿›è¡ŒåŠ è½½ï¼ŒBootstarpClassLoaderç”¨äºåŠ è½½JDKæä¾›çš„ç±»ï¼Œè€Œæˆ‘ä»¬è‡ªå·±ç¼–å†™çš„ç±»å®é™…ä¸Šæ˜¯AppClassLoaderï¼Œåªæœ‰BootstarpClassLoaderéƒ½æ²¡æœ‰åŠ è½½çš„ç±»ï¼Œæ‰ä¼šè®©AppClassLoaderæ¥åŠ è½½ï¼Œå› æ­¤æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„åŒååŒ…åŒåç±»ä¸ä¼šè¢«åŠ è½½ï¼Œè€Œå®é™…è¦å»å¯åŠ¨çš„æ˜¯çœŸæ­£çš„Stringç±»ï¼Œä¹Ÿå°±è‡ªç„¶æ‰¾ä¸åˆ°<code>main</code>æ–¹æ³•äº†ï¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Main</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getClassLoader</span><span class="o">());</span>   <span class="c1">//æŸ¥çœ‹å½“å‰ç±»çš„ç±»åŠ è½½å™¨
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Main</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getClassLoader</span><span class="o">().</span><span class="na">getParent</span><span class="o">());</span>  <span class="c1">//çˆ¶åŠ è½½å™¨
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Main</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getClassLoader</span><span class="o">().</span><span class="na">getParent</span><span class="o">().</span><span class="na">getParent</span><span class="o">());</span>  <span class="c1">//çˆ·çˆ·åŠ è½½å™¨
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getClassLoader</span><span class="o">());</span>   <span class="c1">//Stringç±»çš„åŠ è½½å™¨
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>ç”±äºBootstarpClassLoaderæ˜¯C++ç¼–å†™çš„ï¼Œæˆ‘ä»¬åœ¨Javaä¸­æ˜¯è·å–ä¸åˆ°çš„ã€‚</p>
<h2 id="classå¯¹è±¡">Classå¯¹è±¡</h2>
<p>é€šè¿‡å‰é¢ï¼Œæˆ‘ä»¬äº†è§£äº†ç±»çš„åŠ è½½ï¼ŒåŒæ—¶ä¼šæå–ä¸€ä¸ªç±»çš„ä¿¡æ¯ç”ŸæˆClasså¯¹è±¡å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œè€Œåå°„æœºåˆ¶å…¶å®å°±æ˜¯åˆ©ç”¨è¿™äº›å­˜æ”¾çš„ç±»ä¿¡æ¯ï¼Œæ¥è·å–ç±»çš„ä¿¡æ¯å’Œæ“ä½œç±»ã€‚é‚£ä¹ˆå¦‚ä½•è·å–åˆ°æ¯ä¸ªç±»å¯¹åº”çš„Classå¯¹è±¡å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ClassNotFoundException</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>   <span class="c1">//ä½¿ç”¨classå…³é”®å­—ï¼Œé€šè¿‡ç±»åè·å–
</span><span class="c1"></span>    <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz2</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;java.lang.String&#34;</span><span class="o">);</span>   <span class="c1">//ä½¿ç”¨Classç±»é™æ€æ–¹æ³•forName()ï¼Œé€šè¿‡åŒ…å.ç±»åè·å–ï¼Œæ³¨æ„è¿”å›å€¼æ˜¯Class&lt;?&gt;
</span><span class="c1"></span>    <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="s">&#34;cpdd&#34;</span><span class="o">).</span><span class="na">getClass</span><span class="o">();</span>  <span class="c1">//é€šè¿‡å®ä¾‹å¯¹è±¡è·å–
</span><span class="c1"></span><span class="o">}</span>
</code></pre></div><p>æ³¨æ„Classç±»ä¹Ÿæ˜¯ä¸€ä¸ªæ³›å‹ç±»ï¼Œåªæœ‰ç¬¬ä¸€ç§æ–¹æ³•ï¼Œèƒ½å¤Ÿç›´æ¥è·å–åˆ°å¯¹åº”ç±»å‹çš„Classå¯¹è±¡ï¼Œè€Œä»¥ä¸‹ä¸¤ç§æ–¹æ³•ä½¿ç”¨äº†<code>?</code>é€šé…ç¬¦ä½œä¸ºè¿”å›å€¼ï¼Œä½†æ˜¯å®é™…ä¸Šéƒ½å’Œç¬¬ä¸€ä¸ªè¿”å›çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="n">Class</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>   <span class="c1">//ä½¿ç”¨classå…³é”®å­—ï¼Œé€šè¿‡ç±»åè·å–
</span><span class="c1"></span><span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz2</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;java.lang.String&#34;</span><span class="o">);</span>   <span class="c1">//ä½¿ç”¨Classç±»é™æ€æ–¹æ³•forName()ï¼Œé€šè¿‡åŒ…å.ç±»åè·å–ï¼Œæ³¨æ„è¿”å›å€¼æ˜¯Class&lt;?&gt;
</span><span class="c1"></span><span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="s">&#34;cpdd&#34;</span><span class="o">).</span><span class="na">getClass</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">clazz</span> <span class="o">==</span> <span class="n">clazz2</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">clazz</span> <span class="o">==</span> <span class="n">clazz3</span><span class="o">);</span>
</code></pre></div><p>é€šè¿‡æ¯”è¾ƒï¼ŒéªŒè¯äº†æˆ‘ä»¬ä¸€å¼€å§‹çš„ç»“è®ºï¼Œåœ¨JVMä¸­æ¯ä¸ªç±»å§‹ç»ˆåªå­˜åœ¨ä¸€ä¸ªClasså¯¹è±¡ï¼Œæ— è®ºé€šè¿‡ä»€ä¹ˆæ–¹æ³•è·å–ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ã€‚ç°åœ¨æˆ‘ä»¬å†æ¥çœ‹çœ‹è¿™ä¸ªé—®é¢˜ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="kt">int</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>   <span class="c1">//åŸºæœ¬æ•°æ®ç±»å‹æœ‰Classå¯¹è±¡å—ï¼Ÿ
</span><span class="c1"></span>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">clazz</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div><p>è¿·äº†ï¼Œä¸æ˜¯æ¯ä¸ªç±»æ‰æœ‰Classå¯¹è±¡å—ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹åˆä¸æ˜¯ç±»ï¼Œè¿™ä¹Ÿè¡Œå—ï¼Ÿå®é™…ä¸Šï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ä¹Ÿæœ‰å¯¹åº”çš„Classå¯¹è±¡ï¼ˆåå°„æ“ä½œå¯èƒ½éœ€è¦ç”¨åˆ°ï¼‰ï¼Œè€Œä¸”æˆ‘ä»¬ä¸ä»…å¯ä»¥é€šè¿‡classå…³é”®å­—è·å–ï¼Œå…¶å®æœ¬è´¨ä¸Šæ˜¯å®šä¹‰åœ¨å¯¹åº”çš„åŒ…è£…ç±»ä¸­çš„ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="cm">/**
</span><span class="cm"> * The {@code Class} instance representing the primitive type
</span><span class="cm"> * {@code int}.
</span><span class="cm"> *
</span><span class="cm"> * @since   JDK1.1
</span><span class="cm"> */</span>
<span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">&#34;unchecked&#34;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Class</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span>  <span class="n">TYPE</span> <span class="o">=</span> <span class="o">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;)</span> <span class="n">Class</span><span class="o">.</span><span class="na">getPrimitiveClass</span><span class="o">(</span><span class="s">&#34;int&#34;</span><span class="o">);</span>

<span class="cm">/*
</span><span class="cm"> * Return the Virtual Machine&#39;s Class object for the named
</span><span class="cm"> * primitive type
</span><span class="cm"> */</span>
<span class="kd">static</span> <span class="kd">native</span> <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">getPrimitiveClass</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">);</span>   <span class="c1">//C++å®ç°ï¼Œå¹¶éJavaå®šä¹‰
</span></code></pre></div><p>æ¯ä¸ªåŒ…è£…ç±»ä¸­ï¼ˆåŒ…æ‹¬Voidï¼‰ï¼Œéƒ½æœ‰ä¸€ä¸ªè·å–åŸå§‹ç±»å‹Classæ–¹æ³•ï¼Œæ³¨æ„ï¼ŒgetPrimitiveClassè·å–çš„æ˜¯åŸå§‹ç±»å‹ï¼Œå¹¶ä¸æ˜¯åŒ…è£…ç±»å‹ï¼Œåªæ˜¯å¯ä»¥ä½¿ç”¨åŒ…è£…ç±»æ¥è¡¨ç¤ºã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="kt">int</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Integer</span><span class="o">.</span><span class="na">TYPE</span> <span class="o">==</span> <span class="kt">int</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div><p>é€šè¿‡å¯¹æ¯”ï¼Œæˆ‘ä»¬å‘ç°å®é™…ä¸ŠåŒ…è£…ç±»å‹éƒ½æœ‰ä¸€ä¸ªTYPEï¼Œå…¶å®ä¹Ÿå°±æ˜¯åŸºæœ¬ç±»å‹çš„Classï¼Œé‚£ä¹ˆåŒ…è£…ç±»çš„Classå’ŒåŸºæœ¬ç±»çš„Classä¸€æ ·å—ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Integer</span><span class="o">.</span><span class="na">TYPE</span> <span class="o">==</span> <span class="n">Integer</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div><p>æˆ‘ä»¬å‘ç°ï¼ŒåŒ…è£…ç±»å‹çš„Classå¯¹è±¡å¹¶ä¸æ˜¯åŸºæœ¬ç±»å‹Classå¯¹è±¡ã€‚æ•°ç»„ç±»å‹ä¹Ÿæ˜¯ä¸€ç§ç±»å‹ï¼Œåªæ˜¯ç¼–ç¨‹ä¸å¯è§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥è·å–æ•°ç»„çš„Classå¯¹è±¡ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;</span><span class="n">String</span><span class="o">[]&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">String</span><span class="o">[].</span><span class="na">class</span><span class="o">;</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">clazz</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>  <span class="c1">//è·å–ç±»åç§°ï¼ˆå¾—åˆ°çš„æ˜¯åŒ…å+ç±»åçš„å®Œæ•´åç§°ï¼‰
</span><span class="c1"></span>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">clazz</span><span class="o">.</span><span class="na">getSimpleName</span><span class="o">());</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">clazz</span><span class="o">.</span><span class="na">getTypeName</span><span class="o">());</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">clazz</span><span class="o">.</span><span class="na">getClassLoader</span><span class="o">());</span>   <span class="c1">//è·å–å®ƒçš„ç±»åŠ è½½å™¨
</span><span class="c1"></span>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">clazz</span><span class="o">.</span><span class="na">cast</span><span class="o">(</span><span class="k">new</span> <span class="n">Integer</span><span class="o">(</span><span class="s">&#34;10&#34;</span><span class="o">)));</span>   <span class="c1">//å¼ºåˆ¶ç±»å‹è½¬æ¢
</span><span class="c1"></span><span class="o">}</span>
</code></pre></div><h3 id="å†è°ˆinstanceof">å†è°ˆinstanceof</h3>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨instanceofè¿›è¡Œç±»å‹æ¯”è¾ƒï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="o">;</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str</span> <span class="k">instanceof</span> <span class="n">String</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div><p>å®ƒå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ­¤æ¥å£æˆ–æ˜¯ç±»çš„å®ç°æˆ–æ˜¯å­ç±»ï¼Œè€Œç°åœ¨æˆ‘ä»¬æœ‰äº†æ›´å¤šçš„æ–¹å¼å»åˆ¤æ–­ç±»å‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="o">;</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">getClass</span><span class="o">()</span> <span class="o">==</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>   <span class="c1">//ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºè¿™ä¸ªç±»å‹
</span><span class="c1"></span><span class="o">}</span>
</code></pre></div><p>å¦‚æœéœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ºå­ç±»æˆ–æ˜¯æ¥å£/æŠ½è±¡ç±»çš„å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>asSubClass()</code>æ–¹æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Integer</span> <span class="n">i</span> <span class="o">=</span> <span class="n">10</span><span class="o">;</span>
    <span class="n">i</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">asSubclass</span><span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>   <span class="c1">//å½“Integerä¸æ˜¯Numberçš„å­ç±»æ—¶ï¼Œä¼šäº§ç”Ÿå¼‚å¸¸
</span><span class="c1"></span><span class="o">}</span>
</code></pre></div><h3 id="è·å–çˆ¶ç±»ä¿¡æ¯">è·å–çˆ¶ç±»ä¿¡æ¯</h3>
<p>é€šè¿‡<code>getSuperclass()</code>æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°çˆ¶ç±»çš„Classå¯¹è±¡ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Integer</span> <span class="n">i</span> <span class="o">=</span> <span class="n">10</span><span class="o">;</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getSuperclass</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></div><p>ä¹Ÿå¯ä»¥é€šè¿‡<code>getGenericSuperclass()</code>è·å–çˆ¶ç±»çš„åŸå§‹ç±»å‹çš„Typeï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Integer</span> <span class="n">i</span> <span class="o">=</span> <span class="n">10</span><span class="o">;</span>
    <span class="n">Type</span> <span class="n">type</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getGenericSuperclass</span><span class="o">();</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">type</span><span class="o">);</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">type</span> <span class="k">instanceof</span> <span class="n">Class</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div><p>æˆ‘ä»¬å‘ç°Typeå®é™…ä¸Šæ˜¯Classç±»çš„çˆ¶æ¥å£ï¼Œä½†æ˜¯è·å–åˆ°çš„Typeçš„å®ç°å¹¶ä¸ä¸€å®šæ˜¯Classã€‚</p>
<p>åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒä¸Šé¢è¿™æ ·è·å–çˆ¶æ¥å£ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Integer</span> <span class="n">i</span> <span class="o">=</span> <span class="n">10</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">anInterface</span> <span class="o">:</span> <span class="n">i</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getInterfaces</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">anInterface</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
    <span class="o">}</span>
  
  	<span class="k">for</span> <span class="o">(</span><span class="n">Type</span> <span class="n">genericInterface</span> <span class="o">:</span> <span class="n">i</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getGenericInterfaces</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">genericInterface</span><span class="o">.</span><span class="na">getTypeName</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><hr>
<h2 id="åˆ›å»ºç±»å¯¹è±¡">åˆ›å»ºç±»å¯¹è±¡</h2>
<p>æ—¢ç„¶æˆ‘ä»¬æ‹¿åˆ°äº†ç±»çš„å®šä¹‰ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥é€šè¿‡Classå¯¹è±¡æ¥åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€ä¿®æ”¹å˜é‡å‘¢ï¼Ÿå½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œé‚£æˆ‘ä»¬é¦–å…ˆæ¥æ¢è®¨ä¸€ä¸‹å¦‚ä½•åˆ›å»ºä¸€ä¸ªç±»çš„å¯¹è±¡ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">InstantiationException</span><span class="o">,</span> <span class="n">IllegalAccessException</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Student</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="n">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
    <span class="n">student</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">static</span> <span class="kd">class</span> <span class="nc">Student</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;è¨æ—¥æœ—&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>é€šè¿‡ä½¿ç”¨<code>newInstance()</code>æ–¹æ³•æ¥åˆ›å»ºå¯¹åº”ç±»å‹çš„å®ä¾‹ï¼Œè¿”å›æ³›å‹Tï¼Œæ³¨æ„å®ƒä¼šæŠ›å‡ºInstantiationExceptionå’ŒIllegalAccessExceptionå¼‚å¸¸ï¼Œé‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°å¼‚å¸¸å‘¢ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">InstantiationException</span><span class="o">,</span> <span class="n">IllegalAccessException</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Student</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="n">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
    <span class="n">student</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">static</span> <span class="kd">class</span> <span class="nc">Student</span><span class="o">{</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">(</span><span class="n">String</span> <span class="n">text</span><span class="o">){</span>
        
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;è¨æ—¥æœ—&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>å½“ç±»é»˜è®¤çš„æ„é€ æ–¹æ³•è¢«å¸¦å‚æ„é€ è¦†ç›–æ—¶ï¼Œä¼šå‡ºç°InstantiationExceptionå¼‚å¸¸ï¼Œå› ä¸º<code>newInstance()</code>åªé€‚ç”¨äºé»˜è®¤æ— å‚æ„é€ ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">InstantiationException</span><span class="o">,</span> <span class="n">IllegalAccessException</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Student</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="n">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
    <span class="n">student</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">static</span> <span class="kd">class</span> <span class="nc">Student</span><span class="o">{</span>

    <span class="kd">private</span> <span class="nf">Student</span><span class="o">(){}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;è¨æ—¥æœ—&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>å½“é»˜è®¤æ— å‚æ„é€ çš„æƒé™ä¸æ˜¯<code>public</code>æ—¶ï¼Œä¼šå‡ºç°IllegalAccessExceptionå¼‚å¸¸ï¼Œè¡¨ç¤ºæˆ‘ä»¬æ— æƒå»è°ƒç”¨é»˜è®¤æ„é€ æ–¹æ³•ã€‚åœ¨JDK9ä¹‹åï¼Œä¸å†æ¨èä½¿ç”¨<code>newInstance()</code>æ–¹æ³•äº†ï¼Œè€Œæ˜¯ä½¿ç”¨æˆ‘ä»¬æ¥ä¸‹æ¥è¦ä»‹ç»åˆ°çš„ï¼Œé€šè¿‡è·å–æ„é€ å™¨ï¼Œæ¥å®ä¾‹åŒ–å¯¹è±¡ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">NoSuchMethodException</span><span class="o">,</span> <span class="n">InvocationTargetException</span><span class="o">,</span> <span class="n">InstantiationException</span><span class="o">,</span> <span class="n">IllegalAccessException</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Student</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="n">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getConstructor</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&#34;what&#39;s up&#34;</span><span class="o">);</span>
    <span class="n">student</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">static</span> <span class="kd">class</span> <span class="nc">Student</span><span class="o">{</span>

    <span class="kd">public</span> <span class="nf">Student</span><span class="o">(</span><span class="n">String</span> <span class="n">str</span><span class="o">){}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;è¨æ—¥æœ—&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>é€šè¿‡è·å–ç±»çš„æ„é€ æ–¹æ³•ï¼ˆæ„é€ å™¨ï¼‰æ¥åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œä¼šæ›´åŠ åˆç†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>getConstructor()</code>æ–¹æ³•æ¥è·å–ç±»çš„æ„é€ æ–¹æ³•ï¼ŒåŒæ—¶æˆ‘ä»¬éœ€è¦å‘å…¶ä¸­å¡«å…¥å‚æ•°ï¼Œä¹Ÿå°±æ˜¯æ„é€ æ–¹æ³•éœ€è¦çš„ç±»å‹ï¼Œå½“ç„¶æˆ‘ä»¬è¿™é‡Œåªæ¼”ç¤ºäº†ã€‚é‚£ä¹ˆï¼Œå½“è®¿é—®æƒé™ä¸æ˜¯publicçš„æ—¶å€™å‘¢ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">NoSuchMethodException</span><span class="o">,</span> <span class="n">InvocationTargetException</span><span class="o">,</span> <span class="n">InstantiationException</span><span class="o">,</span> <span class="n">IllegalAccessException</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Student</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="n">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getConstructor</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&#34;what&#39;s up&#34;</span><span class="o">);</span>
    <span class="n">student</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">static</span> <span class="kd">class</span> <span class="nc">Student</span><span class="o">{</span>

    <span class="kd">private</span> <span class="nf">Student</span><span class="o">(</span><span class="n">String</span> <span class="n">str</span><span class="o">){}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;è¨æ—¥æœ—&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>æˆ‘ä»¬å‘ç°ï¼Œå½“è®¿é—®æƒé™ä¸è¶³æ—¶ï¼Œä¼šæ— æ³•æ‰¾åˆ°æ­¤æ„é€ æ–¹æ³•ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°épublicçš„æ„é€ æ–¹æ³•å‘¢ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="n">Class</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Student</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
<span class="n">Constructor</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span> <span class="n">constructor</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getDeclaredConstructor</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">constructor</span><span class="o">.</span><span class="na">setAccessible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>   <span class="c1">//ä¿®æ”¹è®¿é—®æƒé™
</span><span class="c1"></span><span class="n">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="n">constructor</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&#34;what&#39;s up&#34;</span><span class="o">);</span>
<span class="n">student</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
</code></pre></div><p>ä½¿ç”¨<code>getDeclaredConstructor()</code>æ–¹æ³•å¯ä»¥æ‰¾åˆ°ç±»ä¸­çš„épublicæ„é€ æ–¹æ³•ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆä¿®æ”¹è®¿é—®æƒé™ï¼Œåœ¨ä¿®æ”¹è®¿é—®æƒé™ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨épublicæ–¹æ³•äº†ï¼ˆè¿™æ„å‘³ç€ï¼Œåå°„å¯ä»¥æ— è§†æƒé™ä¿®é¥°ç¬¦è®¿é—®ç±»çš„å†…å®¹ï¼‰</p>
<hr>
<h2 id="è°ƒç”¨ç±»çš„æ–¹æ³•">è°ƒç”¨ç±»çš„æ–¹æ³•</h2>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æ¥è°ƒç”¨ç±»çš„æ–¹æ³•ï¼ˆæœ¬è´¨ä¸Šè¿˜æ˜¯ç±»çš„å®ä¾‹è¿›è¡Œè°ƒç”¨ï¼‰åªæ˜¯åˆ©ç”¨åå°„æœºåˆ¶å®ç°äº†æ–¹æ³•çš„è°ƒç”¨ï¼Œæˆ‘ä»¬åœ¨åŒ…ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.test</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Student</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(</span><span class="n">String</span> <span class="n">str</span><span class="o">){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;è¨æ—¥æœ—&#34;</span><span class="o">+</span><span class="n">str</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>è¿™æ¬¡æˆ‘ä»¬é€šè¿‡<code>forName(String)</code>æ¥æ‰¾åˆ°è¿™ä¸ªç±»å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ReflectiveOperationException</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;com.test.Student&#34;</span><span class="o">);</span>
    <span class="n">Object</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>   <span class="c1">//åˆ›å»ºå‡ºå­¦ç”Ÿå¯¹è±¡
</span><span class="c1"></span>    <span class="n">Method</span> <span class="n">method</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;test&#34;</span><span class="o">,</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>   <span class="c1">//é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³•
</span><span class="c1"></span>    
    <span class="n">method</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">instance</span><span class="o">,</span> <span class="s">&#34;what&#39;s up&#34;</span><span class="o">);</span>   <span class="c1">//é€šè¿‡Methodå¯¹è±¡çš„invokeæ–¹æ³•æ¥è°ƒç”¨æ–¹æ³•
</span><span class="c1"></span><span class="o">}</span>
</code></pre></div><p>é€šè¿‡è°ƒç”¨<code>getMethod()</code>æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°ç±»ä¸­æ‰€æœ‰å£°æ˜ä¸ºpublicçš„æ–¹æ³•ï¼Œå¾—åˆ°ä¸€ä¸ªMethodå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Methodå¯¹è±¡çš„<code>invoke()</code>æ–¹æ³•ï¼ˆè¿”å›å€¼å°±æ˜¯æ–¹æ³•çš„è¿”å›å€¼ï¼Œå› ä¸ºè¿™é‡Œæ˜¯voidï¼Œè¿”å›å€¼ä¸ºnullï¼‰æ¥è°ƒç”¨å·²ç»è·å–åˆ°çš„æ–¹æ³•ï¼Œæ³¨æ„ä¼ å‚ã€‚</p>
<p>æˆ‘ä»¬å‘ç°ï¼Œåˆ©ç”¨åå°„ä¹‹åï¼Œåœ¨ä¸€ä¸ªå¯¹è±¡ä»æ„é€ åˆ°æ–¹æ³•è°ƒç”¨ï¼Œæ²¡æœ‰ä»»ä½•ä¸€å¤„éœ€è¦å¼•ç”¨åˆ°å¯¹è±¡çš„å®é™…ç±»å‹ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰å¯¼å…¥Studentç±»ï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯åå°„åœ¨ä»£æ›¿è¿›è¡Œæ“ä½œï¼Œä½¿å¾—æ•´ä¸ªè¿‡ç¨‹è¢«æ¨¡ç³Šäº†ï¼Œè¿‡å¤šçš„ä½¿ç”¨åå°„ï¼Œä¼šæå¤§åœ°é™ä½åæœŸç»´æŠ¤æ€§ã€‚</p>
<p>åŒæ„é€ æ–¹æ³•ä¸€æ ·ï¼Œå½“å‡ºç°épublicæ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æ¥æ— è§†æƒé™ä¿®é¥°ç¬¦ï¼Œè·å–épublicæ–¹æ³•å¹¶è°ƒç”¨ï¼Œç°åœ¨æˆ‘ä»¬å°†<code>test()</code>æ–¹æ³•çš„æƒé™ä¿®é¥°ç¬¦æ”¹ä¸ºprivateï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ReflectiveOperationException</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;com.test.Student&#34;</span><span class="o">);</span>
    <span class="n">Object</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>   <span class="c1">//åˆ›å»ºå‡ºå­¦ç”Ÿå¯¹è±¡
</span><span class="c1"></span>    <span class="n">Method</span> <span class="n">method</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getDeclaredMethod</span><span class="o">(</span><span class="s">&#34;test&#34;</span><span class="o">,</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>   <span class="c1">//é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³•
</span><span class="c1"></span>    <span class="n">method</span><span class="o">.</span><span class="na">setAccessible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

    <span class="n">method</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">instance</span><span class="o">,</span> <span class="s">&#34;what&#39;s up&#34;</span><span class="o">);</span>   <span class="c1">//é€šè¿‡Methodå¯¹è±¡çš„invokeæ–¹æ³•æ¥è°ƒç”¨æ–¹æ³•
</span><span class="c1"></span><span class="o">}</span>
</code></pre></div><p>Methodå’ŒConstructoréƒ½å’ŒClassä¸€æ ·ï¼Œä»–ä»¬å­˜å‚¨äº†æ–¹æ³•çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–¹æ³•çš„å½¢å¼å‚æ•°åˆ—è¡¨ï¼Œè¿”å›å€¼ï¼Œæ–¹æ³•çš„åç§°ç­‰å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡Methodå¯¹è±¡æ¥è·å–è¿™äº›ä¿¡æ¯ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ReflectiveOperationException</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;com.test.Student&#34;</span><span class="o">);</span>
    <span class="n">Method</span> <span class="n">method</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getDeclaredMethod</span><span class="o">(</span><span class="s">&#34;test&#34;</span><span class="o">,</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>   <span class="c1">//é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³•
</span><span class="c1"></span>    
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>   <span class="c1">//è·å–æ–¹æ³•åç§°
</span><span class="c1"></span>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getReturnType</span><span class="o">());</span>   <span class="c1">//è·å–è¿”å›å€¼ç±»å‹
</span><span class="c1"></span><span class="o">}</span>
</code></pre></div><p>å½“æ–¹æ³•çš„å‚æ•°ä¸ºå¯å˜å‚æ•°æ—¶ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•è·å–æ–¹æ³•å‘¢ï¼Ÿå®é™…ä¸Šï¼Œæˆ‘ä»¬åœ¨ä¹‹å‰å°±å·²ç»æåˆ°è¿‡ï¼Œå¯å˜å‚æ•°å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨æ•°ç»„çš„classå¯¹è±¡è¡¨ç¤ºï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="n">Method</span> <span class="n">method</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getDeclaredMethod</span><span class="o">(</span><span class="s">&#34;test&#34;</span><span class="o">,</span> <span class="n">String</span><span class="o">[].</span><span class="na">class</span><span class="o">);</span>
</code></pre></div><p>åå°„éå¸¸å¼ºå¤§ï¼Œå°¤å…¶æ˜¯æˆ‘ä»¬æåˆ°çš„è¶Šæƒè®¿é—®ï¼Œä½†æ˜¯è¯·ä¸€å®šè°¨æ…ä½¿ç”¨ï¼Œåˆ«äººå°†æŸä¸ªæ–¹æ³•è®¾ç½®ä¸ºprivateä¸€å®šæœ‰ä»–çš„ç†ç”±ï¼Œå¦‚æœå®åœ¨æ˜¯éœ€è¦ä½¿ç”¨åˆ«äººå®šä¹‰ä¸ºprivateçš„æ–¹æ³•ï¼Œå°±å¿…é¡»ç¡®ä¿è¿™æ ·åšæ˜¯å®‰å…¨çš„ï¼Œåœ¨æ²¡æœ‰äº†è§£åˆ«äººä»£ç çš„æ•´ä¸ªè¿‡ç¨‹å°±å¼ºè¡Œè¶Šæƒè®¿é—®ï¼Œå¯èƒ½ä¼šå‡ºç°æ— æ³•é¢„çŸ¥çš„é”™è¯¯ã€‚</p>
<hr>
<h2 id="ä¿®æ”¹ç±»çš„å±æ€§">ä¿®æ”¹ç±»çš„å±æ€§</h2>
<p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åå°„è®¿é—®ä¸€ä¸ªç±»ä¸­å®šä¹‰çš„æˆå‘˜å­—æ®µä¹Ÿå¯ä»¥ä¿®æ”¹ä¸€ä¸ªç±»çš„å¯¹è±¡ä¸­çš„æˆå‘˜å­—æ®µå€¼ï¼Œé€šè¿‡<code>getField()</code>æ–¹æ³•æ¥è·å–ä¸€ä¸ªç±»å®šä¹‰çš„æŒ‡å®šå­—æ®µï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ReflectiveOperationException</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;com.test.Student&#34;</span><span class="o">);</span>
    <span class="n">Object</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>

    <span class="n">Field</span> <span class="n">field</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getField</span><span class="o">(</span><span class="s">&#34;i&#34;</span><span class="o">);</span>   <span class="c1">//è·å–ç±»çš„æˆå‘˜å­—æ®µi
</span><span class="c1"></span>    <span class="n">field</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">instance</span><span class="o">,</span> <span class="n">100</span><span class="o">);</span>   <span class="c1">//å°†ç±»å®ä¾‹instanceçš„æˆå‘˜å­—æ®µiè®¾ç½®ä¸º100
</span><span class="c1"></span>
    <span class="n">Method</span> <span class="n">method</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;test&#34;</span><span class="o">);</span>
    <span class="n">method</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">instance</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div><p>åœ¨å¾—åˆ°Fieldä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥é€šè¿‡<code>set()</code>æ–¹æ³•ä¸ºæŸä¸ªå¯¹è±¡ï¼Œè®¾å®šæ­¤å±æ€§çš„å€¼ï¼Œæ¯”å¦‚ä¸Šé¢ï¼Œæˆ‘ä»¬å°±ä¸ºinstanceå¯¹è±¡è®¾å®šå€¼ä¸º100ï¼Œå½“è®¿é—®privateå­—æ®µæ—¶ï¼ŒåŒæ ·å¯ä»¥æŒ‰ç…§ä¸Šé¢çš„æ“ä½œè¿›è¡Œè¶Šæƒè®¿é—®ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ReflectiveOperationException</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;com.test.Student&#34;</span><span class="o">);</span>
    <span class="n">Object</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>

    <span class="n">Field</span> <span class="n">field</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getDeclaredField</span><span class="o">(</span><span class="s">&#34;i&#34;</span><span class="o">);</span>   <span class="c1">//è·å–ç±»çš„æˆå‘˜å­—æ®µi
</span><span class="c1"></span>    <span class="n">field</span><span class="o">.</span><span class="na">setAccessible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
    <span class="n">field</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">instance</span><span class="o">,</span> <span class="n">100</span><span class="o">);</span>   <span class="c1">//å°†ç±»å®ä¾‹instanceçš„æˆå‘˜å­—æ®µiè®¾ç½®ä¸º100
</span><span class="c1"></span>
    <span class="n">Method</span> <span class="n">method</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;test&#34;</span><span class="o">);</span>
    <span class="n">method</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">instance</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div><p>ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œåå°„å‡ ä¹å¯ä»¥æŠŠä¸€ä¸ªç±»çš„è€åº•éƒ½ç»™æ‰’å‡ºæ¥ï¼Œä»»ä½•å±æ€§ï¼Œä»»ä½•å†…å®¹ï¼Œéƒ½å¯ä»¥è¢«åå°„ä¿®æ”¹ï¼Œæ— è®ºæƒé™ä¿®é¥°ç¬¦æ˜¯ä»€ä¹ˆï¼Œé‚£ä¹ˆï¼Œå¦‚æœæˆ‘çš„å­—æ®µè¢«æ ‡è®°ä¸ºfinalå‘¢ï¼Ÿç°åœ¨åœ¨å­—æ®µ<code>i</code>å‰é¢æ·»åŠ <code>final</code>å…³é”®å­—ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹æ•ˆæœï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">10</span><span class="o">;</span>
</code></pre></div><p>è¿™æ—¶ï¼Œå½“å­—æ®µä¸ºfinalæ—¶ï¼Œå°±ä¿®æ”¹å¤±è´¥äº†ï¼å½“ç„¶ï¼Œé€šè¿‡åå°„å¯ä»¥ç›´æ¥å°†finalä¿®é¥°ç¬¦ç›´æ¥å»é™¤ï¼Œå»é™¤åï¼Œå°±å¯ä»¥éšæ„ä¿®æ”¹å†…å®¹äº†ï¼Œæˆ‘ä»¬æ¥å°è¯•ä¿®æ”¹Integerçš„valueå€¼ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ReflectiveOperationException</span> <span class="o">{</span>
    <span class="n">Integer</span> <span class="n">i</span> <span class="o">=</span> <span class="n">10</span><span class="o">;</span>

    <span class="n">Field</span> <span class="n">field</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getDeclaredField</span><span class="o">(</span><span class="s">&#34;value&#34;</span><span class="o">);</span>

    <span class="n">Field</span> <span class="n">modifiersField</span> <span class="o">=</span> <span class="n">Field</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getDeclaredField</span><span class="o">(</span><span class="s">&#34;modifiers&#34;</span><span class="o">);</span>  <span class="c1">//è¿™é‡Œè¦è·å–Fieldç±»çš„modifierså­—æ®µè¿›è¡Œä¿®æ”¹
</span><span class="c1"></span>    <span class="n">modifiersField</span><span class="o">.</span><span class="na">setAccessible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
    <span class="n">modifiersField</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="n">field</span><span class="o">,</span><span class="n">field</span><span class="o">.</span><span class="na">getModifiers</span><span class="o">()&amp;~</span><span class="n">Modifier</span><span class="o">.</span><span class="na">FINAL</span><span class="o">);</span>  <span class="c1">//å»é™¤finalæ ‡è®°
</span><span class="c1"></span>
    <span class="n">field</span><span class="o">.</span><span class="na">setAccessible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
    <span class="n">field</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">100</span><span class="o">);</span>   <span class="c1">//å¼ºè¡Œè®¾ç½®å€¼
</span><span class="c1"></span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåå°„éå¸¸æš´åŠ›ï¼Œå°±è¿è¢«å®šä¹‰ä¸ºfinalå­—æ®µçš„å€¼éƒ½èƒ½å¼ºè¡Œä¿®æ”¹ï¼Œå‡ ä¹èƒ½å¤Ÿæ— è§†ä¸€åˆ‡é˜»æ‹¦ã€‚æˆ‘ä»¬æ¥è¯•è¯•çœ‹ä¿®æ”¹ä¸€äº›å…¶ä»–çš„ç±»å‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ReflectiveOperationException</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">i</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>

    <span class="n">Field</span> <span class="n">field</span> <span class="o">=</span> <span class="n">ArrayList</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getDeclaredField</span><span class="o">(</span><span class="s">&#34;size&#34;</span><span class="o">);</span>
    <span class="n">field</span><span class="o">.</span><span class="na">setAccessible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
    <span class="n">field</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">10</span><span class="o">);</span>

    <span class="n">i</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;æµ‹è¯•&#34;</span><span class="o">);</span>   <span class="c1">//åªæ·»åŠ ä¸€ä¸ªå…ƒç´ 
</span><span class="c1"></span>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>  <span class="c1">//å¤§å°ç›´æ¥å˜æˆ11
</span><span class="c1"></span>    <span class="n">i</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">10</span><span class="o">);</span>   <span class="c1">//çç§»é™¤éƒ½ä¸å¸¦æŠ¥é”™çš„ï¼Œæ·¦
</span><span class="c1"></span><span class="o">}</span>
</code></pre></div><p>å®é™…ä¸Šï¼Œæ•´ä¸ªArrayListä½“ç³»ç”±äºæˆ‘ä»¬çš„åå°„æ“ä½œï¼Œå¯¼è‡´è¢«ç ´åï¼Œå› æ­¤å®ƒå·²ç»æ— æ³•æ­£å¸¸å·¥ä½œäº†ï¼</p>
<p>å†æ¬¡å¼ºè°ƒï¼Œåœ¨è¿›è¡Œåå°„æ“ä½œæ—¶ï¼Œå¿…é¡»æ³¨æ„æ˜¯å¦å®‰å…¨ï¼Œè™½ç„¶æ‹¥æœ‰äº†åˆ›ä¸–ä¸»çš„èƒ½åŠ›ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½æ»¥ç”¨ï¼Œæˆ‘ä»¬åªèƒ½æŠŠå®ƒå½“åšä¸€ä¸ªä¸å¾—å·²æ‰å»ä½¿ç”¨çš„å·¥å…·ï¼</p>
<hr>
<h2 id="è‡ªå®šä¹‰classloaderåŠ è½½ç±»">è‡ªå®šä¹‰ClassLoaderåŠ è½½ç±»</h2>
<p>æˆ‘ä»¬å¯ä»¥è‡ªå·±æ‰‹åŠ¨å°†classæ–‡ä»¶åŠ è½½åˆ°JVMä¸­å—ï¼Ÿå…ˆå†™å¥½æˆ‘ä»¬å®šä¹‰çš„ç±»ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.test</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="n">text</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(</span><span class="n">String</span> <span class="n">str</span><span class="o">){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">text</span><span class="o">+</span><span class="s">&#34; &gt; æˆ‘æ˜¯æµ‹è¯•æ–¹æ³•ï¼&#34;</span><span class="o">+</span><span class="n">str</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>é€šè¿‡javacå‘½ä»¤ï¼Œæ‰‹åŠ¨ç¼–è¯‘ä¸€ä¸ª.classæ–‡ä»¶ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">nagocoler@NagodeMacBook-Pro HelloWorld % javac src/main/java/com/test/Test.java
</code></pre></div><p>ç¼–è¯‘åï¼Œå¾—åˆ°ä¸€ä¸ªclassæ–‡ä»¶ï¼Œæˆ‘ä»¬æŠŠå®ƒæ”¾åˆ°æ ¹ç›®å½•ä¸‹ï¼Œç„¶åç¼–å†™ä¸€ä¸ªæˆ‘ä»¬è‡ªå·±çš„ClassLoaderï¼Œå› ä¸ºæ™®é€šçš„ClassLoaderæ— æ³•åŠ è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„æ¥è®©å®ƒæ”¯æŒï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="c1">//å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„ClassLoader
</span><span class="c1"></span><span class="kd">static</span> <span class="kd">class</span> <span class="nc">MyClassLoader</span> <span class="kd">extends</span> <span class="n">ClassLoader</span><span class="o">{</span>
    <span class="kd">public</span> <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">defineClass</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">b</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">defineClass</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">0</span><span class="o">,</span> <span class="n">b</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>   <span class="c1">//è°ƒç”¨protectedæ–¹æ³•ï¼Œæ”¯æŒè½½å…¥å¤–éƒ¨classæ–‡ä»¶
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
    <span class="n">MyClassLoader</span> <span class="n">classLoader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyClassLoader</span><span class="o">();</span>
    <span class="n">FileInputStream</span> <span class="n">stream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="s">&#34;Test.class&#34;</span><span class="o">);</span>
    <span class="kt">byte</span><span class="o">[]</span> <span class="n">bytes</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="n">stream</span><span class="o">.</span><span class="na">available</span><span class="o">()];</span>
    <span class="n">stream</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">bytes</span><span class="o">);</span>
    <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">classLoader</span><span class="o">.</span><span class="na">defineClass</span><span class="o">(</span><span class="s">&#34;com.test.Test&#34;</span><span class="o">,</span> <span class="n">bytes</span><span class="o">);</span>   <span class="c1">//ç±»åå¿…é¡»å’Œæˆ‘ä»¬å®šä¹‰çš„ä¿æŒä¸€è‡´
</span><span class="c1"></span>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">clazz</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>   <span class="c1">//æˆåŠŸåŠ è½½å¤–éƒ¨classæ–‡ä»¶
</span><span class="c1"></span><span class="o">}</span>
</code></pre></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å°±å°†æ­¤classæ–‡ä»¶è¯»å–å¹¶è§£æä¸ºClassäº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥å¯¹æ­¤ç±»è¿›è¡Œæ“ä½œäº†ï¼ˆæ³¨æ„ï¼Œæˆ‘ä»¬æ— æ³•åœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨æ­¤ç±»å‹ï¼Œå› ä¸ºå®ƒæ˜¯æˆ‘ä»¬ç›´æ¥åŠ è½½çš„ï¼‰ï¼Œæˆ‘ä»¬æ¥è¯•è¯•çœ‹åˆ›å»ºä¸€ä¸ªæ­¤ç±»çš„å¯¹è±¡å¹¶è°ƒç”¨å…¶æ–¹æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="k">try</span> <span class="o">{</span>
    <span class="n">Object</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
    <span class="n">Method</span> <span class="n">method</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;test&#34;</span><span class="o">,</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>   <span class="c1">//è·å–æˆ‘ä»¬å®šä¹‰çš„test(String str)æ–¹æ³•
</span><span class="c1"></span>    <span class="n">method</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">obj</span><span class="o">,</span> <span class="s">&#34;å“¥ä»¬è¿™ç“œå¤šå°‘é’±ä¸€æ–¤ï¼Ÿ&#34;</span><span class="o">);</span>
<span class="o">}</span><span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
    <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div><p>æˆ‘ä»¬æ¥è¯•è¯•çœ‹ä¿®æ”¹æˆå‘˜å­—æ®µä¹‹åï¼Œå†æ¥è°ƒç”¨æ­¤æ–¹æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="k">try</span> <span class="o">{</span>
    <span class="n">Object</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
    <span class="n">Field</span> <span class="n">field</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getField</span><span class="o">(</span><span class="s">&#34;text&#34;</span><span class="o">);</span>   <span class="c1">//è·å–æˆå‘˜å˜é‡ String text;
</span><span class="c1"></span>    <span class="n">field</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">obj</span><span class="o">,</span> <span class="s">&#34;åå¼º&#34;</span><span class="o">);</span>
    <span class="n">Method</span> <span class="n">method</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;test&#34;</span><span class="o">,</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>   <span class="c1">//è·å–æˆ‘ä»¬å®šä¹‰çš„test(String str)æ–¹æ³•
</span><span class="c1"></span>    <span class="n">method</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">obj</span><span class="o">,</span> <span class="s">&#34;å“¥ä»¬è¿™ç“œå¤šå°‘é’±ä¸€æ–¤ï¼Ÿ&#34;</span><span class="o">);</span>
<span class="o">}</span><span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
    <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°å¤–éƒ¨åŠ è½½ç”šè‡³æ˜¯ç½‘ç»œåŠ è½½ä¸€ä¸ªç±»ï¼Œåªéœ€è¦æŠŠç±»æ–‡ä»¶ä¼ é€’å³å¯ï¼Œè¿™æ ·å°±æ— éœ€å†å°†ä»£ç å†™åœ¨æœ¬åœ°ï¼Œè€Œæ˜¯åŠ¨æ€è¿›è¡Œä¼ é€’ï¼Œä¸ä»…å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢æºä»£ç è¢«åç¼–è¯‘ï¼ˆåªæ˜¯ä¸€å®šç¨‹åº¦ä¸Šï¼Œæƒ³ç ´è§£ä½ ä»£ç æœ‰çš„æ˜¯æ–¹æ³•ï¼‰ï¼Œè€Œä¸”åœ¨æ›´å¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹byte[]è¿›è¡ŒåŠ å¯†ï¼Œä¿è¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„å®‰å…¨æ€§ã€‚</p>
<hr>
<h2 id="æ³¨è§£">æ³¨è§£</h2>
<p>å…¶å®æˆ‘ä»¬åœ¨ä¹‹å‰å°±æ¥è§¦åˆ°æ³¨è§£äº†ï¼Œæ¯”å¦‚<code>@Override</code>è¡¨ç¤ºé‡å†™çˆ¶ç±»æ–¹æ³•ï¼ˆå½“ç„¶ä¸åŠ æ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ­¤æ³¨è§£åœ¨ç¼–è¯‘æ—¶ä¼šè¢«è‡ªåŠ¨ä¸¢å¼ƒï¼‰æ³¨è§£æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼Œåªä¸è¿‡å®ƒçš„ç”¨æ³•æ¯”è¾ƒç‰¹æ®Šã€‚</p>
<p>æ³¨è§£å¯ä»¥è¢«æ ‡æ³¨åœ¨ä»»æ„åœ°æ–¹ï¼ŒåŒ…æ‹¬æ–¹æ³•ä¸Šã€ç±»åä¸Šã€å‚æ•°ä¸Šã€æˆå‘˜å±æ€§ä¸Šã€æ³¨è§£å®šä¹‰ä¸Šç­‰ï¼Œå°±åƒæ³¨é‡Šä¸€æ ·ï¼Œå®ƒç›¸å½“äºæˆ‘ä»¬å¯¹æŸæ ·ä¸œè¥¿çš„ä¸€ä¸ªæ ‡è®°ã€‚è€Œä¸æ³¨é‡Šä¸åŒçš„æ˜¯ï¼Œæ³¨è§£å¯ä»¥é€šè¿‡åå°„åœ¨è¿è¡Œæ—¶è·å–ï¼Œæ³¨è§£ä¹Ÿå¯ä»¥é€‰æ‹©æ˜¯å¦ä¿ç•™åˆ°è¿è¡Œæ—¶ã€‚</p>
<h3 id="é¢„è®¾æ³¨è§£">é¢„è®¾æ³¨è§£</h3>
<p>JDKé¢„è®¾äº†ä»¥ä¸‹æ³¨è§£ï¼Œä½œç”¨äºä»£ç ï¼š</p>
<ul>
<li>@Override - æ£€æŸ¥ï¼ˆä»…ä»…æ˜¯æ£€æŸ¥ï¼Œä¸ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼‰è¯¥æ–¹æ³•æ˜¯å¦æ˜¯é‡å†™æ–¹æ³•ã€‚å¦‚æœå‘ç°å…¶çˆ¶ç±»ï¼Œæˆ–è€…æ˜¯å¼•ç”¨çš„æ¥å£ä¸­å¹¶æ²¡æœ‰è¯¥æ–¹æ³•æ—¶ï¼Œä¼šæŠ¥ç¼–è¯‘é”™è¯¯ã€‚</li>
<li>@Deprecated - æ ‡è®°è¿‡æ—¶æ–¹æ³•ã€‚å¦‚æœä½¿ç”¨è¯¥æ–¹æ³•ï¼Œä¼šæŠ¥ç¼–è¯‘è­¦å‘Šã€‚</li>
<li>@SuppressWarnings - æŒ‡ç¤ºç¼–è¯‘å™¨å»å¿½ç•¥æ³¨è§£ä¸­å£°æ˜çš„è­¦å‘Šï¼ˆä»…ä»…ç¼–è¯‘å™¨é˜¶æ®µï¼Œä¸ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼‰</li>
<li>@FunctionalInterface - Java 8 å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†ä¸€ä¸ªåŒ¿åå‡½æ•°æˆ–å‡½æ•°å¼æ¥å£ã€‚</li>
<li>@SafeVarargs - Java 7 å¼€å§‹æ”¯æŒï¼Œå¿½ç•¥ä»»ä½•ä½¿ç”¨å‚æ•°ä¸ºæ³›å‹å˜é‡çš„æ–¹æ³•æˆ–æ„é€ å‡½æ•°è°ƒç”¨äº§ç”Ÿçš„è­¦å‘Šã€‚</li>
</ul>
<h3 id="å…ƒæ³¨è§£">å…ƒæ³¨è§£</h3>
<p>å…ƒæ³¨è§£æ˜¯ä½œç”¨äºæ³¨è§£ä¸Šçš„æ³¨è§£ï¼Œç”¨äºæˆ‘ä»¬ç¼–å†™è‡ªå®šä¹‰çš„æ³¨è§£ï¼š</p>
<ul>
<li>@Retention - æ ‡è¯†è¿™ä¸ªæ³¨è§£æ€ä¹ˆä¿å­˜ï¼Œæ˜¯åªåœ¨ä»£ç ä¸­ï¼Œè¿˜æ˜¯ç¼–å…¥classæ–‡ä»¶ä¸­ï¼Œæˆ–è€…æ˜¯åœ¨è¿è¡Œæ—¶å¯ä»¥é€šè¿‡åå°„è®¿é—®ã€‚</li>
<li>@Documented - æ ‡è®°è¿™äº›æ³¨è§£æ˜¯å¦åŒ…å«åœ¨ç”¨æˆ·æ–‡æ¡£ä¸­ã€‚</li>
<li>@Target - æ ‡è®°è¿™ä¸ªæ³¨è§£åº”è¯¥æ˜¯å“ªç§ Java æˆå‘˜ã€‚</li>
<li>@Inherited - æ ‡è®°è¿™ä¸ªæ³¨è§£æ˜¯ç»§æ‰¿äºå“ªä¸ªæ³¨è§£ç±»(é»˜è®¤ æ³¨è§£å¹¶æ²¡æœ‰ç»§æ‰¿äºä»»ä½•å­ç±»)</li>
<li>@Repeatable - Java 8 å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†æŸæ³¨è§£å¯ä»¥åœ¨åŒä¸€ä¸ªå£°æ˜ä¸Šä½¿ç”¨å¤šæ¬¡ã€‚</li>
</ul>
<p>çœ‹äº†è¿™ä¹ˆå¤šé¢„è®¾çš„æ³¨è§£ï¼Œä½ ä»¬è‚¯å®šçœ¼èŠ±ç¼­ä¹±äº†ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹<code>@Override</code>æ˜¯å¦‚ä½•å®šä¹‰çš„ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Target</span><span class="o">(</span><span class="n">ElementType</span><span class="o">.</span><span class="na">METHOD</span><span class="o">)</span>
<span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">SOURCE</span><span class="o">)</span>
<span class="kd">public</span> <span class="nd">@interface</span> <span class="n">Override</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div><p>è¯¥æ³¨è§£ç”±<code>@Target</code>é™å®šä¸ºåªèƒ½ä½œç”¨äºæ–¹æ³•ä¸Šï¼ŒElementTypeæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæ­¤æšä¸¾çš„ä½œç”¨åŸŸï¼Œä¸€ä¸ªæ³¨è§£å¯ä»¥æœ‰å¾ˆå¤šä¸ªä½œç”¨åŸŸã€‚<code>@Retention</code>è¡¨ç¤ºæ­¤æ³¨è§£çš„ä¿ç•™ç­–ç•¥ï¼ŒåŒ…æ‹¬ä¸‰ç§ç­–ç•¥ï¼Œåœ¨ä¸Šè¿°ä¸­æœ‰å†™åˆ°ï¼Œè€Œè¿™é‡Œå®šä¹‰ä¸ºåªåœ¨ä»£ç ä¸­ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰çš„æ³¨è§£éœ€è¦å®šä¹‰1ä¸ª<code>@Retention</code>å’Œ1-nä¸ª<code>@Target</code>ã€‚</p>
<p>æ—¢ç„¶äº†è§£äº†å…ƒæ³¨è§£çš„ä½¿ç”¨å’Œæ³¨è§£çš„å®šä¹‰æ–¹å¼ï¼Œæˆ‘ä»¬å°±æ¥å°è¯•å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„æ³¨è§£ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Target</span><span class="o">(</span><span class="n">ElementType</span><span class="o">.</span><span class="na">METHOD</span><span class="o">)</span>
<span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="kd">public</span> <span class="nd">@interface</span> <span class="n">Test</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div><p>è¿™é‡Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªTestæ³¨è§£ï¼Œå¹¶å°†å…¶ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼ŒåŒæ—¶æ­¤æ³¨è§£å¯ä»¥ä½œç”¨äºæ–¹æ³•æˆ–æ˜¯ç±»ä¸Šï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>è¿™æ ·ï¼Œä¸€ä¸ªæœ€ç®€å•çš„æ³¨è§£å°±è¢«æˆ‘ä»¬åˆ›å»ºäº†ã€‚</p>
<h3 id="æ³¨è§£çš„ä½¿ç”¨">æ³¨è§£çš„ä½¿ç”¨</h3>
<p>æˆ‘ä»¬è¿˜å¯ä»¥åœ¨æ³¨è§£ä¸­å®šä¹‰ä¸€äº›å±æ€§ï¼Œæ³¨è§£çš„å±æ€§ä¹Ÿå«åšæˆå‘˜å˜é‡ï¼Œæ³¨è§£åªæœ‰æˆå‘˜å˜é‡ï¼Œæ²¡æœ‰æ–¹æ³•ã€‚æ³¨è§£çš„æˆå‘˜å˜é‡åœ¨æ³¨è§£çš„å®šä¹‰ä¸­ä»¥â€œæ— å½¢å‚çš„æ–¹æ³•â€å½¢å¼æ¥å£°æ˜ï¼Œå…¶æ–¹æ³•åå®šä¹‰äº†è¯¥æˆå‘˜å˜é‡çš„åå­—ï¼Œå…¶è¿”å›å€¼å®šä¹‰äº†è¯¥æˆå‘˜å˜é‡çš„ç±»å‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Target</span><span class="o">({</span><span class="n">ElementType</span><span class="o">.</span><span class="na">METHOD</span><span class="o">,</span> <span class="n">ElementType</span><span class="o">.</span><span class="na">TYPE</span><span class="o">})</span>
<span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="kd">public</span> <span class="nd">@interface</span> <span class="n">Test</span> <span class="o">{</span>
    <span class="n">String</span> <span class="nf">value</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div><p>é»˜è®¤åªæœ‰ä¸€ä¸ªå±æ€§æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åå­—è®¾å®šä¸ºvalueï¼Œå¦åˆ™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä½¿ç”¨æ—¶æ‰‹åŠ¨æŒ‡å®šæ³¨è§£çš„å±æ€§åç§°ï¼Œä½¿ç”¨valueåˆ™æ— éœ€å¡«å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Target</span><span class="o">({</span><span class="n">ElementType</span><span class="o">.</span><span class="na">METHOD</span><span class="o">,</span> <span class="n">ElementType</span><span class="o">.</span><span class="na">TYPE</span><span class="o">})</span>
<span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="kd">public</span> <span class="nd">@interface</span> <span class="n">Test</span> <span class="o">{</span>
    <span class="n">String</span> <span class="nf">test</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="nd">@Test</span><span class="o">(</span><span class="n">test</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨defaultå…³é”®å­—æ¥ä¸ºè¿™äº›å±æ€§æŒ‡å®šé»˜è®¤å€¼ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Target</span><span class="o">({</span><span class="n">ElementType</span><span class="o">.</span><span class="na">METHOD</span><span class="o">,</span> <span class="n">ElementType</span><span class="o">.</span><span class="na">TYPE</span><span class="o">})</span>
<span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="kd">public</span> <span class="nd">@interface</span> <span class="n">Test</span> <span class="o">{</span>
    <span class="n">String</span> <span class="nf">value</span><span class="o">()</span> <span class="k">default</span> <span class="s">&#34;éƒ½çœ‹åˆ°è¿™é‡Œäº†ï¼Œç»™ä¸ªä¸‰è¿å§ï¼&#34;</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div><p>å½“å±æ€§å­˜åœ¨é»˜è®¤å€¼æ—¶ï¼Œä½¿ç”¨æ³¨è§£çš„æ—¶å€™å¯ä»¥ä¸ç”¨ä¼ å…¥å±æ€§å€¼ã€‚å½“å±æ€§ä¸ºæ•°ç»„æ—¶å‘¢ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Target</span><span class="o">({</span><span class="n">ElementType</span><span class="o">.</span><span class="na">METHOD</span><span class="o">,</span> <span class="n">ElementType</span><span class="o">.</span><span class="na">TYPE</span><span class="o">})</span>
<span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="kd">public</span> <span class="nd">@interface</span> <span class="n">Test</span> <span class="o">{</span>
    <span class="n">String</span><span class="o">[]</span> <span class="nf">value</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div><p>å½“å±æ€§ä¸ºæ•°ç»„ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ³¨è§£ä¼ å‚æ—¶ï¼Œå¦‚æœæ•°ç»„é‡Œé¢åªæœ‰ä¸€ä¸ªå†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä¼ å…¥ä¸€ä¸ªå€¼ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Test</span><span class="o">(</span><span class="s">&#34;å…³æ³¨ç‚¹äº†å—&#34;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
	
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="nd">@Test</span><span class="o">({</span><span class="s">&#34;value1&#34;</span><span class="o">,</span> <span class="s">&#34;value2&#34;</span><span class="o">})</span>   <span class="c1">//å¤šä¸ªå€¼æ—¶å°±ä½¿ç”¨èŠ±æ‹¬å·æ‹¬èµ·æ¥
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><h3 id="åå°„è·å–æ³¨è§£">åå°„è·å–æ³¨è§£</h3>
<p>æ—¢ç„¶æˆ‘ä»¬çš„æ³¨è§£å¯ä»¥ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå¦‚ä½•è·å–æˆ‘ä»¬ç¼–å†™çš„æ³¨è§£ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°åå°„æœºåˆ¶ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Student</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">Annotation</span> <span class="n">annotation</span> <span class="o">:</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getAnnotations</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">annotation</span><span class="o">.</span><span class="na">annotationType</span><span class="o">());</span>   <span class="c1">//è·å–ç±»å‹
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">annotation</span> <span class="k">instanceof</span> <span class="n">Test</span><span class="o">);</span>   <span class="c1">//ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºTest
</span><span class="c1"></span>        <span class="n">Test</span> <span class="n">test</span> <span class="o">=</span> <span class="o">(</span><span class="n">Test</span><span class="o">)</span> <span class="n">annotation</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">test</span><span class="o">.</span><span class="na">value</span><span class="o">());</span>   <span class="c1">//è·å–æˆ‘ä»¬åœ¨æ³¨è§£ä¸­å†™å…¥çš„å†…å®¹
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>é€šè¿‡åå°„æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè·å–åˆ°æˆ‘ä»¬æ ‡è®°çš„æ³¨è§£ï¼ŒåŒæ—¶è¿˜èƒ½è·å–åˆ°æ³¨è§£ä¸­å¡«å…¥çš„å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œæ–¹æ³•ä¸Šçš„æ ‡è®°æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼è·å–æ³¨è§£ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">NoSuchMethodException</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="n">Student</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">Annotation</span> <span class="n">annotation</span> <span class="o">:</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;test&#34;</span><span class="o">).</span><span class="na">getAnnotations</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">annotation</span><span class="o">.</span><span class="na">annotationType</span><span class="o">());</span>   <span class="c1">//è·å–ç±»å‹
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">annotation</span> <span class="k">instanceof</span> <span class="n">Test</span><span class="o">);</span>   <span class="c1">//ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºTest
</span><span class="c1"></span>        <span class="n">Test</span> <span class="n">test</span> <span class="o">=</span> <span class="o">(</span><span class="n">Test</span><span class="o">)</span> <span class="n">annotation</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">test</span><span class="o">.</span><span class="na">value</span><span class="o">());</span>   <span class="c1">//è·å–æˆ‘ä»¬åœ¨æ³¨è§£ä¸­å†™å…¥çš„å†…å®¹
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>æ— è®ºæ˜¯æ–¹æ³•ã€ç±»ã€è¿˜æ˜¯å­—æ®µï¼Œéƒ½å¯ä»¥ä½¿ç”¨<code>getAnnotations()</code>æ–¹æ³•ï¼ˆè¿˜æœ‰å‡ ä¸ªåŒåçš„ï¼‰æ¥å¿«é€Ÿè·å–æˆ‘ä»¬æ ‡è®°çš„æ³¨è§£ã€‚</p>
<p>æ‰€ä»¥è¯´å‘¢ï¼Œè¿™ç©æ„å­¦æ¥æœ‰å•¥ç”¨ï¼Ÿä¸æ¯«getä¸åˆ°è¿™ç©æ„çš„ç”¨å¤„ã€‚å…¶å®ä¸æ˜¯ï¼Œç°é˜¶æ®µä½ ä»¬è¿˜ä½“ä¼šä¸åˆ°æ³¨è§£å¸¦æ¥çš„å¿«ä¹ï¼Œåœ¨æ¥è§¦åˆ°Springå’ŒSpringBootç­‰å¤§å‹æ¡†æ¶åï¼Œå°±èƒ½æ„Ÿå—åˆ°æ³¨è§£å¸¦æ¥çš„é­…åŠ›äº†ã€‚</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/tags/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E8%A7%A3/">Javaåå°„ä¸æ³¨è§£</a>
                </span></div><div class="post-info-line"><div class="post-info-mod">
                <span>æ›´æ–°äº 2022-01-23</span>
            </div><div class="post-info-mod"></div>
        </div><div class="post-info-share">
            <span><a href="javascript:void(0);" title="åˆ†äº«åˆ° Twitter" data-sharer="twitter" data-url="https://acking-you.github.io/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/" data-title="Javaåå°„ä¸æ³¨è§£" data-hashtags="Javaåå°„ä¸æ³¨è§£"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Facebook" data-sharer="facebook" data-url="https://acking-you.github.io/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/" data-hashtag="Javaåå°„ä¸æ³¨è§£"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° WhatsApp" data-sharer="whatsapp" data-url="https://acking-you.github.io/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/" data-title="Javaåå°„ä¸æ³¨è§£" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Line" data-sharer="line" data-url="https://acking-you.github.io/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/" data-title="Javaåå°„ä¸æ³¨è§£"><i class="fab fa-line fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° å¾®åš" data-sharer="weibo" data-url="https://acking-you.github.io/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/" data-title="Javaåå°„ä¸æ³¨è§£" data-image="https://img-blog.csdnimg.cn/img_convert/daefa95e021376b822b5938e65b8252b.png#pic_center"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Myspace" data-sharer="myspace" data-url="https://acking-you.github.io/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/" data-title="Javaåå°„ä¸æ³¨è§£" data-description="Javaåå°„ä¸æ³¨è§£"><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Blogger" data-sharer="blogger" data-url="https://acking-you.github.io/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/" data-title="Javaåå°„ä¸æ³¨è§£" data-description="Javaåå°„ä¸æ³¨è§£"><i class="fab fa-blogger fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Evernote" data-sharer="evernote" data-url="https://acking-you.github.io/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/" data-title="Javaåå°„ä¸æ³¨è§£"><i class="fab fa-evernote fa-fw"></i></a></span>
        </div></div><div class="post-nav"><a href="/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/" class="prev" rel="prev" title="Javaå¤šçº¿ç¨‹"><i class="fas fa-angle-left fa-fw"></i>Previous Post</a>
            <a href="/posts/java-io/" class="next" rel="next" title="Java I/O">Next Post<i class="fas fa-angle-right fa-fw"></i></a></div></div>
</div></article></div>
            </main>
            <footer class="footer"><div class="footer-container"><div class="footer-line">ç”± <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.86.0">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href="https://github.com/khusika/FeelIt" target="_blank" rel="noopener noreffer" title="FeelIt 1.0.1"><i class="fas fa-hand-holding-heart fa-fw"></i> FeelIt</a>
        </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/"></a></span></div>
</div>
</footer>
        </div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
                <i class="fas fa-chevron-up fa-fw"></i>
            </a></div><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script src="/lib/autocomplete/autocomplete.min.js"></script><script src="/lib/lunr/lunr.min.js"></script><script src="/lib/lunr/lunr.stemmer.support.min.js"></script><script src="/lib/lunr/lunr.zh.min.js"></script><script src="/lib/lazysizes/lazysizes.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script src="/lib/sharer/sharer.min.js"></script><script src="/lib/katex/katex.min.js"></script><script src="/lib/katex/auto-render.min.js"></script><script src="/lib/katex/copy-tex.min.js"></script><script src="/lib/katex/mhchem.min.js"></script><script>window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":200},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":100,"noResultsFound":"æ²¡æœ‰æ‰¾åˆ°ç»“æœ","snippetLength":50,"type":"lunr"}};</script><script src="/js/theme.min.js"></script></body></html>
